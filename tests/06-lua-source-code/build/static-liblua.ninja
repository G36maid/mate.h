cc = gcc
ar = ar
flags = -DLUA_USE_LINUX -fno-stack-protector -fno-common -march=native -Wall -Wextra -std=c99
ar_flags = rcs
cwd = /mnt/c/Users/Lewboski/Desktop/Programming/learn/mate/tests/06-lua-source-code
builddir = /mnt/c/Users/Lewboski/Desktop/Programming/learn/mate/tests/06-lua-source-code/build
target = $builddir/liblua.a

rule archive
  command = $ar $ar_flags $out $in

rule compile
  command = $cc $flags -c $in -o $out

build $builddir/lapi.o: compile $cwd/src/lapi.c
build $builddir/lauxlib.o: compile $cwd/src/lauxlib.c
build $builddir/lbaselib.o: compile $cwd/src/lbaselib.c
build $builddir/lcode.o: compile $cwd/src/lcode.c
build $builddir/lcorolib.o: compile $cwd/src/lcorolib.c
build $builddir/lctype.o: compile $cwd/src/lctype.c
build $builddir/ldblib.o: compile $cwd/src/ldblib.c
build $builddir/ldebug.o: compile $cwd/src/ldebug.c
build $builddir/ldo.o: compile $cwd/src/ldo.c
build $builddir/ldump.o: compile $cwd/src/ldump.c
build $builddir/lfunc.o: compile $cwd/src/lfunc.c
build $builddir/lgc.o: compile $cwd/src/lgc.c
build $builddir/linit.o: compile $cwd/src/linit.c
build $builddir/liolib.o: compile $cwd/src/liolib.c
build $builddir/llex.o: compile $cwd/src/llex.c
build $builddir/lmathlib.o: compile $cwd/src/lmathlib.c
build $builddir/lmem.o: compile $cwd/src/lmem.c
build $builddir/loadlib.o: compile $cwd/src/loadlib.c
build $builddir/lobject.o: compile $cwd/src/lobject.c
build $builddir/lopcodes.o: compile $cwd/src/lopcodes.c
build $builddir/loslib.o: compile $cwd/src/loslib.c
build $builddir/lparser.o: compile $cwd/src/lparser.c
build $builddir/lstate.o: compile $cwd/src/lstate.c
build $builddir/lstring.o: compile $cwd/src/lstring.c
build $builddir/lstrlib.o: compile $cwd/src/lstrlib.c
build $builddir/ltable.o: compile $cwd/src/ltable.c
build $builddir/ltablib.o: compile $cwd/src/ltablib.c
build $builddir/ltests.o: compile $cwd/src/ltests.c
build $builddir/ltm.o: compile $cwd/src/ltm.c
build $builddir/lundump.o: compile $cwd/src/lundump.c
build $builddir/lutf8lib.o: compile $cwd/src/lutf8lib.c
build $builddir/lvm.o: compile $cwd/src/lvm.c
build $builddir/lzio.o: compile $cwd/src/lzio.c
build $target: archive $builddir/lapi.o $builddir/lauxlib.o $builddir/lbaselib.o $builddir/lcode.o $builddir/lcorolib.o $builddir/lctype.o $builddir/ldblib.o $builddir/ldebug.o $builddir/ldo.o $builddir/ldump.o $builddir/lfunc.o $builddir/lgc.o $builddir/linit.o $builddir/liolib.o $builddir/llex.o $builddir/lmathlib.o $builddir/lmem.o $builddir/loadlib.o $builddir/lobject.o $builddir/lopcodes.o $builddir/loslib.o $builddir/lparser.o $builddir/lstate.o $builddir/lstring.o $builddir/lstrlib.o $builddir/ltable.o $builddir/ltablib.o $builddir/ltests.o $builddir/ltm.o $builddir/lundump.o $builddir/lutf8lib.o $builddir/lvm.o $builddir/lzio.o

default $target
